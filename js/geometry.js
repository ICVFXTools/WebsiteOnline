(function(_0x81a341,_0x169eeb){const _0x2bc46b={_0x3a37cb:0x176,_0x2145c9:0x170,_0x18a563:0x18f,_0x18cffc:0x186},_0x143304=_0x4b43,_0x309b=_0x4b43,_0x2790ae=_0x4b43,_0x3df271=_0x81a341();while(!![]){try{const _0x2b0323=parseInt(_0x143304(0x15c))/(0xd*0x171+0x1*0x146f+0x1*-0x272b)+parseInt(_0x309b(_0x2bc46b._0x3a37cb))/(-0x5d1*-0x6+0x1df*0x1+-0x24c3)*(-parseInt(_0x143304(0x17e))/(-0x6e8+0x2*-0xbd7+-0x3*-0xa33))+-parseInt(_0x143304(0x16d))/(0x18b6+0x234a+-0x3bfc)+-parseInt(_0x143304(0x17f))/(0x2*-0x75+0x1be4+-0x43*0x67)*(parseInt(_0x143304(_0x2bc46b._0x2145c9))/(-0x18fb+0x1e11+-0x4*0x144))+parseInt(_0x309b(_0x2bc46b._0x18a563))/(0x7e1+0x2*-0x573+-0x1*-0x30c)*(parseInt(_0x143304(0x191))/(-0xaa6+0x952+0x74*0x3))+-parseInt(_0x143304(0x18c))/(-0x1dd5+0xc46*-0x2+0xa*0x571)+parseInt(_0x143304(_0x2bc46b._0x18cffc))/(-0x227f+0x1231*-0x1+-0x1*-0x34ba);if(_0x2b0323===_0x169eeb)break;else _0x3df271['push'](_0x3df271['shift']());}catch(_0x31773a){_0x3df271['push'](_0x3df271['shift']());}}}(_0x57ca,0x5ad07+-0x1036*0x29+0xed*0x5c4));const _0x3fdf2d=(function(){let _0x46af16=!![];return function(_0x4647f4,_0x4fd6f3){const _0x3174fb={_0x58e520:0x16f},_0xbac28f=_0x46af16?function(){const _0x55db5d=_0x4b43;if(_0x4fd6f3){const _0x261d07=_0x4fd6f3[_0x55db5d(_0x3174fb._0x58e520)](_0x4647f4,arguments);return _0x4fd6f3=null,_0x261d07;}}:function(){};return _0x46af16=![],_0xbac28f;};}()),_0xf4c4ff=_0x3fdf2d(this,function(){const _0x4421cb={_0x903dbf:0x196},_0x3b78d1=_0x4b43,_0x2d98c9=_0x4b43,_0x52531a=_0x4b43;return _0xf4c4ff[_0x3b78d1(_0x4421cb._0x903dbf)]()['search']('(((.+)+)'+_0x2d98c9(0x161))[_0x2d98c9(_0x4421cb._0x903dbf)]()[_0x3b78d1(0x194)+_0x52531a(0x17b)](_0xf4c4ff)['search'](_0x2d98c9(0x164)+_0x52531a(0x161));});_0xf4c4ff();import{st}from'./state.js';import{generateConfigString}from'./ui.js';export function applyFixedPreview(){const _0x1e7855={_0xed806c:0x18d,_0x16d021:0x18e,_0x388ed7:0x15f,_0x5897f3:0x193,_0x4e4105:0x18b,_0x10ab7b:0x16c,_0x525aa9:0x162,_0x45579a:0x195,_0x164c67:0x195,_0x2ba8ac:0x181,_0x2bef51:0x180,_0x206c72:0x171,_0xf1fe27:0x177,_0x56a849:0x174},_0x40ba07=_0x4b43,_0x520402=_0x4b43,_0x5a9910=_0x4b43,_0x49f33b={'KisOp':_0x40ba07(_0x1e7855._0xed806c)+'-h'},_0x25761d=Math[_0x520402(0x15f)](0xda9+-0x1c98+0x2*0x778,parseInt(st[_0x40ba07(0x193)][_0x520402(_0x1e7855._0x16d021)]['value'],0xc9*0x1c+0x234e+-0x3940)||-0x2132*0x1+0x1*-0x239b+-0x11*-0x40d),_0x56105b=Math[_0x520402(_0x1e7855._0x388ed7)](-0x1*0x139b+-0x2492+0x382e*0x1,parseInt(st[_0x5a9910(_0x1e7855._0x5897f3)][_0x5a9910(0x173)][_0x520402(0x192)],0xb97+-0x12a6+-0x17*-0x4f)||0x11d4+0x1389+-0x2554);document[_0x520402(_0x1e7855._0x4e4105)+'Element'][_0x5a9910(0x162)]['setPrope'+_0x520402(_0x1e7855._0x10ab7b)](_0x5a9910(_0x1e7855._0xed806c)+'-w',''+_0x25761d),document[_0x520402(0x18b)+_0x5a9910(0x15e)][_0x40ba07(_0x1e7855._0x525aa9)]['setPrope'+_0x40ba07(0x16c)](_0x49f33b['KisOp'],''+_0x56105b);const _0x2e115a=st[_0x5a9910(0x182)][_0x520402(0x167)+'ingClien'+'tRect']();st[_0x40ba07(0x174)][_0x40ba07(_0x1e7855._0x45579a)]=Math['max'](-0xbd4+-0x224c+0x2e21,Math[_0x40ba07(0x165)](_0x2e115a[_0x40ba07(_0x1e7855._0x164c67)]*st[_0x5a9910(_0x1e7855._0x2ba8ac)])),st['canvas'][_0x40ba07(_0x1e7855._0x2bef51)]=Math[_0x40ba07(0x15f)](0x90a+0x11*0xd4+0x171d*-0x1,Math['round'](_0x2e115a[_0x40ba07(_0x1e7855._0x2bef51)]*st[_0x5a9910(0x181)])),st[_0x5a9910(0x177)][_0x520402(0x15d)+_0x5a9910(_0x1e7855._0x206c72)](-0x38e+0x29*0xbb+-0x1a64,-0x24d9+0x5a3+0x5e*0x55,0x13ae+0x194d+-0x66d*0x7,-0x63*-0x57+0xb*0x373+0x1*-0x4795,-0x220+0x1ad7+-0x2bf*0x9,0xb84+0x1*-0x18d7+0x471*0x3),st[_0x5a9910(_0x1e7855._0xf1fe27)][_0x5a9910(0x188)+'t'](-0x3*0x812+-0x14dd+0x2d13,-0x2*-0xe9+0x32b*0x4+-0xe7e,st[_0x5a9910(_0x1e7855._0x56a849)][_0x520402(_0x1e7855._0x45579a)],st[_0x520402(0x174)][_0x520402(0x180)]);}export function getExportSize(){const _0x5afa11={_0x189bda:0x193,_0x2318c6:0x166,_0x5cdf59:0x192,_0x75d321:0x15f,_0x3dcba4:0x193,_0x19a23a:0x18e,_0x3a683e:0x15f,_0x41770b:0x173,_0x2a93af:0x165,_0x3173ca:0x17c},_0x5f3e6a=_0x4b43,_0x266367=_0x4b43,_0x589f1e=_0x4b43,_0x484a83={'hmBIO':function(_0x5eb595,_0x42b907){return _0x5eb595*_0x42b907;}},_0x4da9d6=Math[_0x5f3e6a(0x15f)](-0xbb9+-0x26a3+0x339c,parseInt(st[_0x266367(_0x5afa11._0x189bda)][_0x589f1e(_0x5afa11._0x2318c6)][_0x266367(_0x5afa11._0x5cdf59)],0x2c6*-0x9+0x18*0x195+-0xcf8)||0x1*-0x1d1f+0x1*0x633+0xc*0x289),_0x4ab3ed=Math[_0x589f1e(_0x5afa11._0x75d321)](-0x6*0x1bb+-0x5*-0x14f+0x3d8,parseInt(st[_0x5f3e6a(_0x5afa11._0x3dcba4)][_0x5f3e6a(_0x5afa11._0x19a23a)][_0x266367(0x192)],0x1*0x13+-0x3c8+-0x89*-0x7)||0xba*0x9+0x399+-0xa13),_0x37c10b=Math[_0x5f3e6a(_0x5afa11._0x3a683e)](-0x15f2+0x24b7+-0xec4,parseInt(st['controls'][_0x589f1e(_0x5afa11._0x41770b)][_0x266367(0x192)],-0x16*0x14b+0x209d+-0x7*0x97)||0x255e+0x234+-0x2789*0x1),_0x2359e4=Math[_0x589f1e(_0x5afa11._0x2a93af)](_0x484a83[_0x266367(_0x5afa11._0x3173ca)](_0x4da9d6,_0x37c10b/_0x4ab3ed));return{'w':_0x4da9d6,'h':_0x2359e4,'name':_0x4da9d6+'x'+_0x2359e4};}function _0x57ca(){const _0x96f69d=['yMf5A3G','zMLSBfrLEhq','zg9JDw1LBNq','mte4odmZm3zZseHJyW','ls1HC3bLy3q','yxnWzwn0vW','mJuXmJa2ow52DejoBG','i2zMzG','ogzWBMfywG','DMfSDwu','y29UDhjVBhm','y29UC3rYDwm','D2LKDgG','Dg9tDhjPBMC','BhmUy29T','BvjnzNm','Dgv4DefSAwC','run1se0','nJK2nZC5sef3yKnf','C2v0vhjHBNm','rwXLBwvUDa','Bwf4','CMLNAhq','kYKRja','C3r5Bgu','ChGGiLjVyM8','kcGOlISPkYK','CM91BMq','B3v0Chv0vW','z2v0qM91BMq','BgvMDa','CM5buvq','r1fWywm','y2vSBfnPEMu','CNr5','mteZndG2nhDHv2DyyW','iZG4oa','yxbWBhK','nMXQCKjKsG','zM9YBq','Dg8Gtw9UBYi','yxnWzwn0sa','y2fUDMfZ','CK1yD0G','ndCYmtjoD2jPyve','y3r4','zMLSBfn0EwW','Awn2zNH0B28','y1nXt1y','Dg9Y','Ag1csu8','zM9UDa','mteXDLLhwuHr','ndq5ntu3mg1cBwDvrG','AgvPz2H0','zhbY','Ag9SzgvY','DxbNsuu','uu9wr1a','r2rysNC','mty4ndi4mdbzAg92vfG','sLnus08','y2XLyxjszwm'];_0x57ca=function(){return _0x96f69d;};return _0x57ca();}export function computeCellGeometry(_0x4897fb,_0x214d78,_0x3de9a6,_0x313785){const _0x384f89={_0x37eb56:0x15f,_0x56860e:0x193,_0x1ccebb:0x16b,_0x54165a:0x192,_0x52eb4d:0x16a},_0x354374=_0x4b43,_0x6c1b62=_0x4b43,_0x1139b5=_0x4b43,_0x467c2d={'cSqOV':function(_0x191b5a,_0x43ec55){return _0x191b5a-_0x43ec55;},'GQpac':function(_0x422046,_0x53253e){return _0x422046/_0x53253e;}},_0x33ffd1=Math[_0x354374(_0x384f89._0x37eb56)](-0xdf+0x5e3*-0x3+0x41*0x49,parseInt(st[_0x354374(_0x384f89._0x56860e)][_0x354374(_0x384f89._0x1ccebb)][_0x1139b5(_0x384f89._0x54165a)],0x12a*-0x16+-0x239*-0xe+-0x578)||0x107f+-0x145d*-0x1+-0x24aa),_0x314630=_0x313785*_0x33ffd1,_0x3994ff=_0x3de9a6*_0x33ffd1,_0xd0ef2d=_0x467c2d[_0x354374(0x17a)](_0x4897fb,_0x314630)/(0x152d+0x18b*-0xd+0x11c*-0x1),_0x118063=_0x467c2d[_0x354374(_0x384f89._0x52eb4d)](_0x214d78-_0x3994ff,-0x11*0x5c+0x231d+0x1*-0x1cff);return{'w':_0x4897fb,'h':_0x214d78,'cell':_0x33ffd1,'gridW':_0x314630,'gridH':_0x3994ff,'ox':_0xd0ef2d,'oy':_0x118063};}export function buildGridGeometry(_0x41ea29,_0x58e5b9,_0x1e89ea,_0x2c681a,_0x38bc8c,_0x487de8){const _0x1c1f39={_0x57b230:0x185,_0x7c0aa1:0x19a,_0x33ddf9:0x169,_0xf5919e:0x184,_0x46ee92:0x187},_0x70901c=_0x4b43,_0x55fe8a=_0x4b43,_0xa1887=_0x4b43,_0x2eea19={'GdXJw':function(_0x50478b,_0x4acc1a){return _0x50478b<_0x4acc1a;},'ECuHM':function(_0x59359b,_0x11810d){return _0x59359b(_0x11810d);},'rnAQT':function(_0x514223,_0x4cdab8){return _0x514223+_0x4cdab8;},'pkAhs':function(_0x3aa7fb,_0x5d89a7){return _0x3aa7fb+_0x5d89a7;},'QOVGP':function(_0x2e75b7,_0x1f05ea){return _0x2e75b7+_0x1f05ea;},'JSTKO':function(_0x563821,_0xa4919e){return _0x563821+_0xa4919e;}},_0x2161f8=Math[_0x70901c(0x165)],_0x435f29=new Array(_0x2c681a),_0x1bbb90=new Array(_0x2c681a),_0x273d7d=new Array(_0x1e89ea),_0x1a7f1c=new Array(_0x1e89ea);for(let _0x4db0f8=-0x79b+0x2536+-0x1d9b;_0x2eea19[_0x70901c(_0x1c1f39._0x57b230)](_0x4db0f8,_0x2c681a);_0x4db0f8++){const _0x2f3100=_0x2eea19[_0x55fe8a(_0x1c1f39._0x7c0aa1)](_0x2161f8,_0x2eea19[_0x70901c(0x169)](_0x41ea29,_0x4db0f8*_0x2eea19['pkAhs'](_0x38bc8c,_0x487de8))),_0x52fdcb=_0x2eea19[_0xa1887(0x19a)](_0x2161f8,_0x2eea19[_0x55fe8a(_0x1c1f39._0x33ddf9)](_0x2f3100,_0x38bc8c));_0x435f29[_0x4db0f8]=_0x2f3100,_0x1bbb90[_0x4db0f8]=_0x52fdcb;}for(let _0x443c7b=0x2099*0x1+0xe89+-0xfb6*0x3;_0x2eea19['GdXJw'](_0x443c7b,_0x1e89ea);_0x443c7b++){const _0x13d919=_0x2161f8(_0x2eea19[_0x55fe8a(_0x1c1f39._0xf5919e)](_0x58e5b9,_0x443c7b*_0x2eea19[_0x70901c(_0x1c1f39._0x46ee92)](_0x38bc8c,_0x487de8))),_0xf2cbc3=_0x2eea19['ECuHM'](_0x2161f8,_0x13d919+_0x38bc8c);_0x273d7d[_0x443c7b]=_0x13d919,_0x1a7f1c[_0x443c7b]=_0xf2cbc3;}return{'colLefts':_0x435f29,'colRights':_0x1bbb90,'rowTops':_0x273d7d,'rowBottoms':_0x1a7f1c};}function _0x4b43(_0x392a43,_0x244345){_0x392a43=_0x392a43-(0x222b+0x7a7+0x2876*-0x1);const _0x1d8a1f=_0x57ca();let _0x375d13=_0x1d8a1f[_0x392a43];if(_0x4b43['hszYTg']===undefined){var _0x471e16=function(_0x534e07){const _0x17b817='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4e3d85='',_0x1898d7='',_0x1da5cc=_0x4e3d85+_0x471e16;for(let _0x2b6163=0x3*0x788+0x1ebe+0x1*-0x3556,_0x15f946,_0x3a1b99,_0x254fb3=-0x2652+-0x1f0*-0x14+-0xb*0xa;_0x3a1b99=_0x534e07['charAt'](_0x254fb3++);~_0x3a1b99&&(_0x15f946=_0x2b6163%(0x263*-0x1+0xcf1+-0xa8a*0x1)?_0x15f946*(-0xbf2+0x1*-0x389+0xfbb*0x1)+_0x3a1b99:_0x3a1b99,_0x2b6163++%(-0x3*0x685+0x1*0x1261+0x33*0x6))?_0x4e3d85+=_0x1da5cc['charCodeAt'](_0x254fb3+(-0x422*0x1+-0x215f+0x1*0x258b))-(0x1681+0x200+-0x1*0x1877)!==0x1fd8*0x1+-0x18b2*-0x1+-0x2*0x1c45?String['fromCharCode'](0x1cbe+-0x182e+-0xb*0x53&_0x15f946>>(-(0x19ad+0x1*0x1ec2+-0xb49*0x5)*_0x2b6163&-0x1*0x5c9+0x1*-0x82e+0xdfd)):_0x2b6163:0x33*0x26+0xddb+0x449*-0x5){_0x3a1b99=_0x17b817['indexOf'](_0x3a1b99);}for(let _0x3f5a67=-0x332+-0x19c3+0x1cf5,_0x4c1b60=_0x4e3d85['length'];_0x3f5a67<_0x4c1b60;_0x3f5a67++){_0x1898d7+='%'+('00'+_0x4e3d85['charCodeAt'](_0x3f5a67)['toString'](0xc*-0x91+-0xd32*-0x1+-0x656))['slice'](-(-0x29d*0xb+0x59*-0x18+0x1*0x2519));}return decodeURIComponent(_0x1898d7);};_0x4b43['yMSMzq']=_0x471e16,_0x4b43['DamkgR']={},_0x4b43['hszYTg']=!![];}const _0x3cff14=_0x1d8a1f[-0xd*-0xab+-0xe4d+0x59e],_0x40dfa6=_0x392a43+_0x3cff14,_0x5573b9=_0x4b43['DamkgR'][_0x40dfa6];if(!_0x5573b9){const _0x3d6f2d=function(_0x4148b7){this['FhFhrd']=_0x4148b7,this['hJsHAM']=[0x1c6*0x8+-0x2b*0x1a+-0x9d1,0x258+0xbb4+-0xe0c,0x1*0xdd8+-0x56d+-0x86b],this['aCdihY']=function(){return'newState';},this['muOQuy']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['XOeKeL']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3d6f2d['prototype']['gGVROp']=function(){const _0x27ab2b=new RegExp(this['muOQuy']+this['XOeKeL']),_0x344b98=_0x27ab2b['test'](this['aCdihY']['toString']())?--this['hJsHAM'][-0x137e+0x376+-0x1*-0x1009]:--this['hJsHAM'][0x7*0xd3+-0x287*0x1+0x5*-0xa6];return this['Drlpgb'](_0x344b98);},_0x3d6f2d['prototype']['Drlpgb']=function(_0x59edc5){if(!Boolean(~_0x59edc5))return _0x59edc5;return this['FVLVpK'](this['FhFhrd']);},_0x3d6f2d['prototype']['FVLVpK']=function(_0xca81e0){for(let _0x155269=-0x9*0x3cb+0x17b6+0x11*0x9d,_0x2bea16=this['hJsHAM']['length'];_0x155269<_0x2bea16;_0x155269++){this['hJsHAM']['push'](Math['round'](Math['random']())),_0x2bea16=this['hJsHAM']['length'];}return _0xca81e0(this['hJsHAM'][-0xce1+0x2f7*-0xb+0x50e*0x9]);},new _0x3d6f2d(_0x4b43)['gGVROp'](),_0x375d13=_0x4b43['yMSMzq'](_0x375d13),_0x4b43['DamkgR'][_0x40dfa6]=_0x375d13;}else _0x375d13=_0x5573b9;return _0x375d13;}export function clearCanvas(_0x52dd81,_0x129192,_0x5d06d5){const _0x142f8f={_0x1e3c1a:0x178},_0x480357=_0x4b43,_0x2b9bc9=_0x4b43;_0x52dd81[_0x480357(_0x142f8f._0x1e3c1a)+'e']=_0x2b9bc9(0x190),_0x52dd81['fillRect'](-0x110c*-0x2+-0x146c+0xfa*-0xe,-0xd30+0xe26+-0x6*0x29,_0x129192,_0x5d06d5);}export function drawFooterText(_0x247fbf,_0x5ee3f6,_0x23e2dd){const _0x156b86={_0x2cae1d:0x16e,_0xd3944a:0x189,_0xc05849:0x179,_0x283c79:0x197,_0x4e9d51:0x178,_0x1e977e:0x199,_0x114473:0x160,_0x4477e:0x18a,_0x188746:0x175,_0x46c2fd:0x198},_0x36f502=_0x4b43,_0xea5109=_0x4b43,_0x249482=_0x4b43,_0xbe2df9={'baykx':function(_0x4413f9){return _0x4413f9();},'upgIE':_0x36f502(_0x156b86._0x2cae1d),'rMXwH':function(_0x82675b,_0x7a1e8b){return _0x82675b-_0x7a1e8b;},'mRMfs':function(_0x39c081,_0xbd02c0){return _0x39c081-_0xbd02c0;}},_0x1636f8=_0xbe2df9[_0x36f502(_0x156b86._0xd3944a)](generateConfigString),_0x266eb5=_0x249482(_0x156b86._0xc05849)+_0xea5109(_0x156b86._0x283c79),_0x1b634f=_0x5ee3f6/(-0x128+0x1bf*-0x13+0x29d5*0x1),_0x547998=Math['max'](-0x2384+0x75*0x29+0x10d3,(0x2504*0x1+-0x4*0x431+-0x1430)*_0x1b634f),_0x3b84cd=Math[_0x36f502(0x15f)](-0x111c+-0x85c+-0x1987*-0x1,Math['round'](_0x547998*(-0x3eb*-0x1+-0xc*-0x325+-0x29a6+0.19999999999999996)));_0x247fbf[_0x36f502(0x17d)]=_0x547998+(_0x249482(0x163)+_0xea5109(0x172)),_0x247fbf[_0xea5109(_0x156b86._0x4e9d51)+'e']=_0xbe2df9[_0xea5109(0x183)],_0x247fbf[_0x36f502(0x199)+'n']=_0x36f502(0x168),_0x247fbf['fillText'](_0x266eb5,_0x3b84cd,_0xbe2df9[_0x249482(0x175)](_0x23e2dd,_0x3b84cd)),_0x247fbf[_0x36f502(_0x156b86._0x1e977e)+'n']=_0x36f502(_0x156b86._0x114473),_0x247fbf[_0x249482(_0x156b86._0x4477e)](_0x1636f8,_0xbe2df9[_0x249482(_0x156b86._0x188746)](_0x5ee3f6,_0x3b84cd),_0xbe2df9[_0x249482(_0x156b86._0x46c2fd)](_0x23e2dd,_0x3b84cd));}